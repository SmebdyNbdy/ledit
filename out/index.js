import{dElement,dVal,dStyle}from"https://gavrikov.me/modules/DJs/d.js";const LABEL=Symbol(),TARGET=Symbol(),INPUT=Symbol(),LOCKED=Symbol(),ATTACHED=Symbol();var id=0;class LEditable{static create(t){return new LEditable(t)}constructor(t){let e=`ledit_${t}_${id}`;return this[LABEL]=dElement.create().new.label().attr.for(e).addClass("LEditable"),this[INPUT]=dElement.create().new.input().attr.type("text").attr.id(e).attr.name(e).on.blur((t=>this.setInnerValue(t))).addClass("LEditable"),this[TARGET]=dElement.create().new[t]().addClass("LEditable"),this[LABEL].child("target",this[TARGET]),this[LOCKED]=!0,this[ATTACHED]=!1,Object.defineProperty(this,"tag",{enumerable:!1,writable:!1,configurable:!1,value:t}),this}get locked(){return this[LOCKED]}get attached(){return this[ATTACHED]}get style(){return this[TARGET].style}attachAt(t){return this[ATTACHED]||(t.appendChild(this[LABEL].$),this[ATTACHED]=!0),this}detach(){return this[ATTACHED]&&this[LABEL].die(),this}setInnerValue(t){return this[TARGET].$.innerHTML=t,this}}export let ledit={LEditable:LEditable};